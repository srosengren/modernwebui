.navigation {
	.make-row();
}

.navigation__item {
	.make-row-content();
	float: none;
	position: static;

	cursor: pointer;
	line-height: 1em;
	color: @color-primary;
	padding-top: @nav-item-padding-vertical;
	padding-bottom: @nav-item-padding-vertical;
	max-height: @nav-item-computed-height;

	&:hover {
		color: @color-primary-darker;
	}
}

.navigation__item--subnav--open {
	max-height: @nav-item-computed-height * 10;
	transition: max-height 0.2s ease;
	overflow: hidden;

	> .navigation--subnav {
		left: 0%;
		right: 0%;
	}
}

.navigation--subnav {
	position: absolute;
	left: 100%;
	right: -100%;
	top: 0px;
	transition: all 0.2s ease;
	background-color: @color-bg-primary;
	padding-top: @nav-item-computed-height;

	&:before {
		content: " ";
		position: absolute;
		border-top: solid 6px transparent;
		border-right: solid 6px @color-primary;
		border-bottom: solid 6px transparent;
		top: (@nav-item-computed-height / 2 - 3);
		left: (@layout-flow-horizontal / 2);
	}
}

//Overrides for larger displays subnavs are now drop-downs
@media (min-width: @screen-tablet-lower){

	.navigation__item {
		float: left;
	}

	.navigation--subnav {
		background-color: @color-bg-primary;
		border: solid 1px #eee;
		position: absolute;
		z-index: 1;
		left: 0;
		display: none;
		top: @nav-item-computed-height;
		.navigation__item {
			display: block;
			float:none;
			white-space: nowrap;
		}
	}

	.navigation__item--subnav {
		padding-right: (@layout-flow-horizontal / 2 + 12px);
		&:after {
			content: " ";
			border-top: solid 4px @color-primary;
			border-left: solid 4px transparent;
			border-right: solid 4px transparent;
			position: absolute;
			right: (@layout-flow-horizontal / 2);
			top: 50%;
		}
	}

	.navigation__item--subnav:hover, .navigation__item--subnav--open {

		&:after {
			border-top-color: @color-primary-darker;
		}

	 	> .navigation--subnav {
			display: block;
		}
	}

	//Overrides with specificity to allow for nested subnavs
	.navigation--subnav .navigation__item--subnav {
		&:after {
			border-top: solid 4px transparent;
			border-right: none;
			border-bottom: solid 4px transparent;
			border-left: solid 4px @color-primary;
			margin-top: -4px;
		}

		.navigation--subnav {
			left: 100%;
			top: 0px;

			&.navigation--drop-left {
				right: 100%;
				left: auto;
			}
		}
	}

	.navigation--drop-left {
		right: 0px;
		left: auto;
	}

}

@media (min-width: @screen-large-lower){

	.navigation__item--subnav {
		padding-right: (@layout-flow-horizontal-large / 2 + 12px);
	}

}